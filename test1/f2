üîç Server Comparison Analysis
Comparing infrastructure between fast vs slow server
Current server performance: Booting (217ms) Application (357ms)

1. üìä Hardware Comparison:
   CPU Information:
Model name:                           Intel(R) Xeon(R) CPU E5-2680 v2 @ 2.80GHz
Core(s) per socket:                   1

   Memory Information:
               total        used        free      shared  buff/cache   available
Mem:            23Gi        16Gi       1,9Gi       168Mi       4,6Gi       5,9Gi
Swap:           19Gi          0B        19Gi
MemTotal:       24562136 kB
MemAvailable:    6227332 kB
Cached:          3766644 kB
SwapCached:            0 kB
SwapTotal:      20971516 kB

   Disk I/O Performance:
   Testing disk write speed...
104857600 bytes (105 MB, 100 MiB) copied, 0,155704 s, 673 MB/s

2. üêò PHP Configuration Comparison:
   PHP Version:
PHP 8.2.28 (cli) (built: Mar 13 2025 18:13:24) (NTS)

   Critical PHP Settings:
/etc/php/8.2/cli/conf.d/10-opcache.ini,
max_execution_time => 0 => 0
memory_limit => -1 => -1
realpath_cache_size => 4096K => 4096K
realpath_cache_ttl => 120 => 120
opcache.blacklist_filename => no value => no value
opcache.consistency_checks => 0 => 0
opcache.dups_fix => Off => Off
opcache.enable => On => On
opcache.enable_cli => Off => Off
opcache.enable_file_override => Off => Off
opcache.error_log => no value => no value
opcache.file_cache => no value => no value
opcache.file_cache_consistency_checks => On => On
opcache.file_cache_only => Off => Off
opcache.file_update_protection => 2 => 2
opcache.force_restart_timeout => 180 => 180
opcache.huge_code_pages => Off => Off
opcache.interned_strings_buffer => 8 => 8
opcache.jit => no value => no value
opcache.jit_bisect_limit => 0 => 0
opcache.jit_blacklist_root_trace => 16 => 16
opcache.jit_blacklist_side_trace => 8 => 8
opcache.jit_buffer_size => 0 => 0
opcache.jit_debug => 0 => 0
opcache.jit_hot_func => 127 => 127
opcache.jit_hot_loop => 64 => 64
opcache.jit_hot_return => 8 => 8
opcache.jit_hot_side_exit => 8 => 8
opcache.jit_max_exit_counters => 8192 => 8192
opcache.jit_max_loop_unrolls => 8 => 8
opcache.jit_max_polymorphic_calls => 2 => 2
opcache.jit_max_recursive_calls => 2 => 2
opcache.jit_max_recursive_returns => 2 => 2
opcache.jit_max_root_traces => 1024 => 1024
opcache.jit_max_side_traces => 128 => 128
opcache.jit_prof_threshold => 0.005 => 0.005
opcache.lockfile_path => /tmp => /tmp
opcache.log_verbosity_level => 1 => 1
opcache.max_accelerated_files => 10000 => 10000
opcache.max_file_size => 0 => 0
opcache.max_wasted_percentage => 5 => 5
opcache.memory_consumption => 128 => 128
opcache.opt_debug_level => 0 => 0
opcache.optimization_level => 0x7FFEBFFF => 0x7FFEBFFF
opcache.preferred_memory_model => no value => no value
opcache.preload => no value => no value
opcache.preload_user => no value => no value
opcache.protect_memory => Off => Off
opcache.record_warnings => Off => Off
opcache.restrict_api => no value => no value
opcache.revalidate_freq => 2 => 2
opcache.revalidate_path => Off => Off
opcache.save_comments => On => On
opcache.use_cwd => On => On
opcache.validate_permission => Off => Off
opcache.validate_root => Off => Off
opcache.validate_timestamps => On => On

   OPcache Status:
OPcache Enabled: No
Cache Full: No
Hit Rate: 0%
Memory Usage: 0MB

3. üåê Network & DNS:
   Network latency to common services:
64 bytes from 8.8.8.8: icmp_seq=1 ttl=113 time=21.0 ms
64 bytes from 1.1.1.1: icmp_seq=1 ttl=55 time=18.9 ms

   DNS Resolution Speed:

4. üíæ File System Performance:
   File System Type:
/dev/sda3      ext4 246997748 165598456  71081412  70% /

   Laravel Storage Performance:
   Session storage speed:
   Cache storage speed:
   View storage speed:

5. üîß System Load & Resources:
   Current System Load:
 18:22:03 up  2:38,  3 users,  load average: 1,28, 1,44, 1,52
   Running Processes (high CPU):
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
avahi       1019 62.7  0.0  10312  5820 ?        Rs   15:43  99:22 avahi-daemon: running [mytree.local]
root        2332  4.7  0.3 155876 88960 ?        Ssl  15:43   7:28 /usr/bin/cadvisor -logtostderr
qbittor+    1241  2.7  0.1 1133124 42408 ?       Ssl  15:43   4:25 /usr/bin/qbittorrent-nox -d --webui-port=8090
root        3186  2.6  0.2 1867792 61932 ?       Ssl  15:43   4:15 /var/www/monitor_v2/venv/bin/python3 /var/www/monitor_v2/monitor_service_asyncio.py start
mysql       1328  2.0  1.1 6560724 280888 ?      Ssl  15:43   3:17 /usr/sbin/mariadbd
elastic+    3499  1.9 53.3 22002324 13108372 ?   Sl   15:43   3:03 /usr/share/elasticsearch/jdk/bin/java -Des.networkaddress.cache.ttl=60 -Des.networkaddress.cache.negative.ttl=10 -Djava.security.manager=allow -XX:+AlwaysPreTouch -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -XX:-OmitStackTraceInFastThrow -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j2.formatMsgNoLookups=true -Djava.locale.providers=SPI,COMPAT --add-opens=java.base/java.io=org.elasticsearch.preallocate --enable-native-access=org.elasticsearch.nativeaccess,org.apache.lucene.core -XX:ReplayDataFile=/var/log/elasticsearch/replay_pid%p.log -Djava.library.path=/usr/share/elasticsearch/lib/platform/linux-x64:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib -Djna.library.path=/usr/share/elasticsearch/lib/platform/linux-x64:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib -Des.distribution.type=deb -XX:+UnlockDiagnosticVMOptions -XX:G1NumCollectionsKeepPinned=10000000 -XX:+UseG1GC -Djava.io.tmpdir=/tmp/elasticsearch-7164020120414573737 --add-modules=jdk.incubator.vector -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError -XX:HeapDumpPath=/var/lib/elasticsearch -XX:ErrorFile=/var/log/elasticsearch/hs_err_pid%p.log -Xlog:gc*,gc+age=trace,safepoint:file=/var/log/elasticsearch/gc.log:utctime,level,pid,tags:filecount=32,filesize=64m -Xms11993m -Xmx11993m -XX:MaxDirectMemorySize=6291456000 -XX:InitiatingHeapOccupancyPercent=30 -XX:G1ReservePercent=25 --module-path /usr/share/elasticsearch/lib --add-modules=jdk.net --add-modules=ALL-MODULE-PATH -m org.elasticsearch.server/org.elasticsearch.bootstrap.Elasticsearch
kibana      1386  1.8  1.9 22661512 485796 ?     Ssl  15:43   2:58 /usr/share/kibana/bin/../node/glibc-217/bin/node /usr/share/kibana/bin/../src/cli/dist
systemd+     935  1.7  0.0  26728 14444 ?        Ss   15:43   2:42 /lib/systemd/systemd-resolved
node_ex+    1141  1.2  0.0 726728 20112 ?        Ssl  15:43   1:57 /usr/local/bin/node_exporter
   Memory Usage by Process:
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
elastic+    3499  1.9 53.3 22002324 13108372 ?   Sl   15:43   3:03 /usr/share/elasticsearch/jdk/bin/java -Des.networkaddress.cache.ttl=60 -Des.networkaddress.cache.negative.ttl=10 -Djava.security.manager=allow -XX:+AlwaysPreTouch -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -XX:-OmitStackTraceInFastThrow -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j2.formatMsgNoLookups=true -Djava.locale.providers=SPI,COMPAT --add-opens=java.base/java.io=org.elasticsearch.preallocate --enable-native-access=org.elasticsearch.nativeaccess,org.apache.lucene.core -XX:ReplayDataFile=/var/log/elasticsearch/replay_pid%p.log -Djava.library.path=/usr/share/elasticsearch/lib/platform/linux-x64:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib -Djna.library.path=/usr/share/elasticsearch/lib/platform/linux-x64:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib -Des.distribution.type=deb -XX:+UnlockDiagnosticVMOptions -XX:G1NumCollectionsKeepPinned=10000000 -XX:+UseG1GC -Djava.io.tmpdir=/tmp/elasticsearch-7164020120414573737 --add-modules=jdk.incubator.vector -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError -XX:HeapDumpPath=/var/lib/elasticsearch -XX:ErrorFile=/var/log/elasticsearch/hs_err_pid%p.log -Xlog:gc*,gc+age=trace,safepoint:file=/var/log/elasticsearch/gc.log:utctime,level,pid,tags:filecount=32,filesize=64m -Xms11993m -Xmx11993m -XX:MaxDirectMemorySize=6291456000 -XX:InitiatingHeapOccupancyPercent=30 -XX:G1ReservePercent=25 --module-path /usr/share/elasticsearch/lib --add-modules=jdk.net --add-modules=ALL-MODULE-PATH -m org.elasticsearch.server/org.elasticsearch.bootstrap.Elasticsearch
kibana      1386  1.8  1.9 22661512 485796 ?     Ssl  15:43   2:58 /usr/share/kibana/bin/../node/glibc-217/bin/node /usr/share/kibana/bin/../src/cli/dist
pc1         1770  0.1  1.4 6582152 344488 ?      SLsl 15:43   0:12 /usr/bin/gnome-shell
dhshop      2449  0.5  1.2 11635628 316696 ?     Ssl  15:43   0:49 /opt/java/openjdk/bin/java -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Dignore.endorsed.dirs= -classpath /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/local/tomcat -Dcatalina.home=/usr/local/tomcat -Djava.io.tmpdir=/usr/local/tomcat/temp org.apache.catalina.startup.Bootstrap start

6. üê≥ Service Status:
   Apache/Nginx Status:
active
   MySQL Status:
active
   Redis Status:
active

7. üîç Laravel Specific Diagnostics:
   Composer Autoload Type:
   Classmap autoload: 43696 classes

   Route Cache Status:
   Routes cached: 140688 lines

   Config Cache Status:
   Config not cached

8. üìù Comparison Checklist:
   Run this same script on FAST server and compare:
   ‚ñ° CPU Model & MHz
   ‚ñ° Available Memory
   ‚ñ° Disk I/O Speed (MB/s)
   ‚ñ° PHP Version & OPcache settings
   ‚ñ° Network latency
   ‚ñ° File system type (ext4 vs others)
   ‚ñ° System load average
   ‚ñ° Service versions (Apache, MySQL, Redis)

9. üéØ Most Likely Differences:
   ‚Ä¢ Different PHP OPcache settings
   ‚Ä¢ Different disk types (HDD vs SSD)
   ‚Ä¢ Different memory available
   ‚Ä¢ Different CPU performance
   ‚Ä¢ Different network latency
   ‚Ä¢ Missing optimizations on slow server

‚úÖ Server analysis complete!
Compare results with fast server to identify bottleneck.
